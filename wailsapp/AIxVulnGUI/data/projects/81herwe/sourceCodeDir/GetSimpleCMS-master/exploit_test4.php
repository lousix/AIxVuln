<?php
error_reporting(E_ALL);
ini_set('display_errors', 1);

require_once('admin/inc/common.php');
require_once('admin/inc/basic.php');
require_once('admin/inc/theme_functions.php');

echo "Testing component data loading...\n";

// Check if component file exists
$component_file = GSDATAOTHERPATH . GSCOMPONENTSFILE;
echo "Component file path: $component_file\n";
echo "File exists: " . (file_exists($component_file) ? 'YES' : 'NO') . "\n";

if (file_exists($component_file)) {
    echo "File contents:\n";
    echo file_get_contents($component_file);
    echo "\n\n";
}

// Try to get components
$components = get_components_xml();
echo "Components loaded: " . ($components ? 'YES' : 'NO') . "\n";

if ($components) {
    echo "Number of items: " . count($components->item) . "\n";
    foreach ($components->item as $item) {
        echo "Item ID: {$item->id}, Title: {$item->title}, Value: {$item->value}\n";
    }
}

echo "\nNow calling get_component...\n";
get_component('exploit');

echo "\nDone.\n";
?>
